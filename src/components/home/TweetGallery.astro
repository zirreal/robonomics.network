---
const {
  tweets: customTweets,
} = Astro.props;

// Default tweets
const defaultTweets = [
  {
    image: "/images/home/tweet-1.webp",
    url: "https://x.com/EnsRationis/status/1985322718707761480",
    alt: "Tweet about Robonomics hardware"
  },
  {
    image: "/images/home/tweet-2.webp",
    url: "https://x.com/EnsRationis/status/2001271515887628712",
    alt: "Tweet about Robonomics project"
  },
  {
    image: "/images/home/tweet-3.webp",
    url: "https://x.com/AIRA_Robonomics/status/1998105755505848431",
    alt: "Tweet from Robonomics about 10 year anniversary"
  },
  {
    image: "/images/home/tweet-4.webp",
    url: "https://x.com/AIRA_Robonomics/status/1958438070933745792",
    alt: "Tweet about Experiment Day on Koh Phangan"
  },
  {
    image: "/images/home/tweet-5.webp",
    url: "https://x.com/EnsRationis/status/1998112566711865640",
    alt: "Tweet about world's first video of using Ethereum to control a robot"
  },
  {
    image: "/images/home/tweet-6.webp",
    url: "https://x.com/positivecrash/status/1959901306862112892?s=12&t=L0SkriBV642yx7HfeGIo7Q",
    alt: "Tweet about Altruist Insight"
  },
];

const tweets = customTweets || defaultTweets;
---

<section class="tweet-gallery section" aria-label="What do creators say">
  <div class="layout layout__content">
    <h2 class="tweet-gallery__title">
      {$tr("What do creators say")}
    </h2>
    <p class="tweet-gallery__subtitle">
      {$tr("We invite you to take a closer look at our ideas and our latest updates.")}
    </p>
    
    <div class="tweet-gallery__grid">
      {tweets.map((tweet) => (
        <a 
          href={tweet.url} 
          target="_blank" 
          rel="noopener noreferrer"
          class="tweet-gallery__item"
          aria-label={tweet.alt || "View tweet"}
        >
          <img 
            src={tweet.image} 
            alt={tweet.alt || ""}
            loading="lazy"
            class="tweet-gallery__image"
          />
        </a>
      ))}
    </div>
  </div>
</section>

<style>
  .tweet-gallery {
    margin-top: 0;
    margin-bottom: 0;
    padding-top: calc(var(--space) * 2);
    padding-bottom: calc(var(--space) * 2);
    background-color: hsla(219, 22%, 92%, 1);
  }

  .tweet-gallery__title {
    margin-top: 0;
    margin-bottom: calc(var(--space) * 0.5);
    font-variation-settings: var(--font-flex-extrabold);
    text-transform: none;
    letter-spacing: 0;
  }

  .tweet-gallery__subtitle {
    text-align: center;
    margin-bottom: calc(var(--space) * 2);
  }

  .tweet-gallery__grid {
    column-count: 3;
    column-gap: var(--space);
    column-fill: balance;
  }

  .tweet-gallery__item {
    display: inline-block;
    width: 100%;
    text-decoration: none;
    border-radius: 12px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    background-color: var(--color-light);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    margin-bottom: var(--space);
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .tweet-gallery__item:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }

  .tweet-gallery__image {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 12px;
  }

  /* Responsive design */
  @media screen and (max-width: 990px) {
    .tweet-gallery__grid {
      column-count: 2;
    }
  }

  @media screen and (max-width: 640px) {
    .tweet-gallery__grid {
      column-count: 1;
    }

    .tweet-gallery {
      margin-top: var(--space);
      margin-bottom: var(--space);
    }
  }
</style>
